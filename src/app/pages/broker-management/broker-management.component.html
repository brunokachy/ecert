<!-- begin breadcrumb -->
  <button class="btn btn-green pull-right" (click)="open(modalDialog)"> <i class="fa fa-plus"></i> Add Broker</button>
<!-- end breadcrumb -->
<!-- begin page-header -->
<h1 class="page-header">Broker <small>Management</small></h1>
<!-- end page-header -->

<panel title="Brokers" footerClass="p-b-0 p-t-20 b-t-0">
  <div class="row">
    <div class="col-lg-4">
      <input class="form-control" placeholder="Type to filter the name column..." (keyup)="updateFilter($event)" />
    </div>
    <div class="col-lg-8 text-center">
    </div>
  </div>
  <ng-container outsideBody>
    <hr class="m-0" />
    <div class="table-responsive text-nowrap">
      <ngx-datatable #table class="bootstrap" [columnMode]="ColumnMode.force" [headerHeight]="50" [footerHeight]="50"
        rowHeight="auto" [limit]="10" [rows]="rows">
        <ngx-datatable-column *ngFor="let column of columns; let i = index;" name="{{column.name}}"
          prop="{{column.prop}}">
          <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
            <div *ngIf="column.name === 'Action'">
              <div nowrap="" class="with-btn">
                <button type="button" class="btn btn-sm btn-primary mr-2" (click)="open(editDialog)"> <i class="far fa-edit"></i> Edit</button>
                <a href="javascript:;" [swal]="['Are you sure?', 'You are about to delete a broker', 'warning']" class="btn btn-sm btn-red">
                  <i class="far fa-trash-alt"></i> Delete
                </a>
              </div>
            </div>
            <div *ngIf="column.name !== 'Action'">
              {{value}}
            </div>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </ng-container>
</panel>

<ng-template #modalDialog let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Add Broker</h4>
    <button type="button" class="close" (click)="d('Cross click')">×</button>
  </div>
  <div class="modal-body">
    <form action="/" method="POST">
        <div class="form-group">
          <label for="iname1">Institution Name</label>
          <input type="text" class="form-control" id="iname1" placeholder="Institution Name" />
        </div>
        <div class="form-group">
          <label for="name1">First Name</label>
          <input type="text" class="form-control" id="name1" placeholder="First Name" />
        </div>
        <div class="form-group">
          <label for="name2">Last Name</label>
          <input type="text" class="form-control" id="name2" placeholder="Last Name" />
        </div>
        <div class="form-group">
          <label for="name1">Contact Email</label>
          <input type="email" class="form-control" id="email" placeholder="Contact Email" />
        </div>
        <div class="form-group">
          <label for="phone">Contact Phone</label>
          <input type="tel" class="form-control" id="phone" placeholder="Contact Phone" />
        </div>
        <div class="form-group">
          <label for="rc">RC Number</label>
          <input type="text" class="form-control" id="rc" placeholder="RC Number" />
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" class="form-control" rows="2"></textarea>
        </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-white" (click)="c('Close click')">Close</button>
    <a href="javascript:;" class="btn btn-green"> <i class="fa fa-save"></i> Save</a>
  </div>
</ng-template>

<ng-template #editDialog let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Edit Broker</h4>
    <button type="button" class="close" (click)="d('Cross click')">×</button>
  </div>
  <div class="modal-body">
    <form action="/" method="POST">
        <div class="form-group">
          <label for="iname1">Institution Name</label>
          <input type="text" class="form-control" id="iname1" placeholder="Institution Name" value="Grekko Ltd."/>
        </div>
        <div class="form-group">
          <label for="name1">First Name</label>
          <input type="text" class="form-control" id="name1" placeholder="First Name" value="Michael" />
        </div>
        <div class="form-group">
          <label for="name2">Last Name</label>
          <input type="text" class="form-control" id="name2" placeholder="Last Name" value="Douglas" />
        </div>
        <div class="form-group">
          <label for="name1">Contact Email</label>
          <input type="email" class="form-control" id="email" placeholder="Contact Email" value="contact@grekko.com" />
        </div>
        <div class="form-group">
          <label for="phone">Contact Phone</label>
          <input type="tel" class="form-control" id="phone" placeholder="Contact Phone" value="+2348012345678" />
        </div>
        <div class="form-group">
          <label for="rc">RC Number</label>
          <input type="text" class="form-control" id="rc" placeholder="RC Number" value="1375797"/>
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" class="form-control" rows="2">57 Cameron road, Ikoyi, Lagos</textarea>
        </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-white" (click)="c('Close click')">Close</button>
    <a href="javascript:;" class="btn btn-green"> <i class="fa fa-save"></i> Save</a>
  </div>
</ng-template>
